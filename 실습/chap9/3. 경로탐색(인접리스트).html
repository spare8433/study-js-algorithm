<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      function solution(n, arr) {
        let answer = 0;
        let listArr = Array.from(Array(n + 1), () => new Array());

        let ch = new Array(n + 1).fill(0);
        ch[1] = 1;

        arr.forEach(([s, e], index) => {
          listArr[s].push(e);
        });

        console.log(listArr);

        function DFS(current = 1, chkArr = [1]) {
          if (current === n) {
            console.log("완성된 경로:", ...chkArr);
            return ++answer;
          }

          for (let i = 0; i < listArr[current].length; i++) {
            if (ch[listArr[current][i]] === 0) {
              ch[current] = 1;
              DFS(listArr[current][i], [...chkArr, listArr[current][i]]);

              ch[current] = 0;
            }
          }
        }

        DFS();
        return answer;
      }

      let arr = [
        [1, 2],
        [1, 3],
        [1, 4],
        [2, 1],
        [2, 3],
        [2, 5],
        [3, 4],
        [4, 2],
        [4, 5],
      ];
      console.log(solution(5, arr));
    </script>
  </body>
</html>
