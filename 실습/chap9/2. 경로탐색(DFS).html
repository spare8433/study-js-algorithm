<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      function solution(n, arr) {
        let answer = 0;
        // 인접행렬을 구현한 2 차원 배열
        let graph = Array.from(Array(n + 1), () => Array(n + 1).fill(0));

        // 주어진 방향그래프 arr 를 활용해 인접행렬 구현
        arr.forEach(([s, e]) => (graph[s][e] = 1));
        console.log(graph);

        // 재귀함수 DFS
        // current : 현재 노드 번호 1부터 시작하므로 1이 기본값
        // chkArr : 현재까지 방문한 노드 순서대로 저장한 배열 시작값은 1 이므로 [1] 이 기본값
        function DFS(current = 1, chkArr = [1]) {
          // 5번까지 도착했다면 정답 1 증가
          if (current === n) {
            console.log("완성된 경로:", ...chkArr);
            return ++answer;
          }

          // 현재 번호를 배열을 순회
          for (let i = 1; i <= n; i++) {
            // 이동 가능한 노드 중 지금까지 방문안한 노드의 경우 (chkArr 들어있지 않다면 아직 방문하지 않은 노드를 의미)
            // 그 노드의 번호를 current,chkArr 에 번호를 추가한 배열을 매개변수로 재귀함수 DFS 다시 호출
            if (graph[current][i] > 0 && !chkArr.includes(i))
              DFS(i, [...chkArr, i]);
          }
        }

        DFS();
        return answer;
      }

      let arr = [
        [1, 2],
        [1, 3],
        [1, 4],
        [2, 1],
        [2, 3],
        [2, 5],
        [3, 4],
        [4, 2],
        [4, 5],
      ];
      console.log(solution(5, arr));
    </script>
  </body>
</html>
